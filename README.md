# sleep-monster

ä¸€ä¸ªä¼˜é›…çš„`JavaScript sleep`åº“ï¼ŒåŒ…å«åŒæ­¥æ–¹å¼ã€å¼‚æ­¥æ–¹å¼å³é˜»å¡çº¿ç¨‹å’Œéé˜»å¡çº¿ç¨‹æ–¹å¼çš„`sleep`ã€‚

## èƒŒæ™¯

> è¿™æ˜¯ä¸€ä¸ªä¸å¤ªæ­£ç»çš„èƒŒæ™¯ä»‹ç»ã€‚è¯·ç†æ€§é˜…è¯»ã€‚

- ä½ å¯èƒ½é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼Œé¡¹ç›®æ‰“åŒ…éƒ¨ç½²ä¹‹åï¼Œå“åº”é€Ÿåº¦å¾ˆå¿«ï¼Œç½‘ç«™æ€§èƒ½å¾ˆå¥½ï¼Œé‚£ä¹ˆä½ ä¸€å®šä¼šéå¸¸è‹¦æ¼ï¼Œå› ä¸ºè¿™æ ·çš„è¯ï¼Œä½ æ²¡æœ‰ä»€ä¹ˆç†ç”±èƒ½å¤Ÿè®©å®¢æˆ·åŠ é’±äº†ã€‚è€Œä¸”å› ä¸ºç°åœ¨é¡¹ç›®çš„ä¼˜åŒ–å¿…é¡»è¦æå‰åšå¥½ï¼Œä½ ä¹Ÿå¾ˆéš¾è‡ªå·±åœ¨å†™ä¸€å¥—ä¸ä¼˜åŒ–çš„ä»£ç ï¼Œé‚£ä¹ˆæˆ‘æƒ³`sleep-monster`å¯ä»¥å¸®åˆ°ä½ ã€‚åªéœ€è¦å¼•å…¥å‡½æ•°ã€è°ƒç”¨å‡½æ•°ï¼Œå‡ è¡Œä»£ç å³å¯è®©é¡¹ç›®é™·å…¥æ²‰ç¡ä»»æ„æ—¶é—´ï¼Œä¸éœ€è¦æ”¹åŠ¨ä½ é¡¹ç›®çš„ä»»ä½•é…ç½®ä»£ç ï¼Œç­‰åˆ°å®¢æˆ·åŠ é’±ä¹‹åï¼Œå»æ‰è¿™å‡ è¡Œä»£ç å³å¯ï¼Œ`sleep-monster`æ‹¥æœ‰å¾ˆå¥½çš„çµæ´»æ€§ã€‚

- æ­¤å¤–ï¼Œ`sleep-monster`ä¹Ÿæ˜¯æ¸è¿›å¼çš„ï¼Œ`sleep-monster`æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œä½ å¯ä»¥åˆ©ç”¨è¿™äº›æ–¹æ³•é€æ­¥é™ä½æ²‰ç¡çš„æ—¶é—´ï¼Œæ¥è¾¾åˆ°å¤šæ¬¡è®©å®¢æˆ·åŠ é’±çš„ç›®çš„ã€‚
- å‹æƒ…æç¤ºï¼šå¦‚æœé‡åˆ°éå¸¸æ£˜æ‰‹å¹¶ä¸”å†¥é¡½ä¸çµçš„å®¢æˆ·ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨`syncSleepYears`å‡½æ•°ï¼Œè®©å®¢æˆ·é•¿é•¿è®°æ€§ã€‚

## å®‰è£…

```shell
npm install sleep-monster
```

## ä½¿ç”¨

> æ³¨æ„ï¼š
>
> 1. `sleep-monster`å°†sleepå‡½æ•°åˆ†ä¸ºäº†åŒæ­¥æ–¹å¼å’Œå¼‚æ­¥æ–¹å¼ä¸¤ç§ã€‚åŒæ­¥æ–¹å¼çš„sleepä¼šé˜»å¡çº¿ç¨‹ï¼Œç”±äºJavaScriptæ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥è¿™äº›åŒæ­¥æ–¹æ³•ä¼šå°†æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡é˜»å¡ï¼Œå¹¶ä¸”éå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œè¯·è°¨æ…ä½¿ç”¨ï¼Œå¦‚æœæ•°å€¼è¿‡å¤§ï¼Œè½»åˆ™Chromeçˆ†ç‚¸ã€ç”µè„‘æ­»æœºã€é£æ‰‡å‘¼å‘¼å“ï¼Œé‡åˆ™æœºæ¯äººäº¡ğŸ˜‚ã€‚
>
> 2. å¼‚æ­¥æ–¹å¼çš„sleepä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œä¹Ÿä¸ä¼šé€ æˆä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯å¼‚æ­¥çš„sleepåªèƒ½é˜»å¡å…¶å½“å‰ä½œç”¨åŸŸï¼Œå¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„é˜»å¡ã€‚

### æ”¯æŒçš„æ–¹æ³•

é»˜è®¤æ¨èä½¿ç”¨`asyncSleep`å’Œ`syncSleep`è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œé»˜è®¤å‚æ•°å•ä½æ˜¯æ¯«ç§’ã€‚æ‰€æœ‰å¯ç”¨å‡½æ•°å¦‚ä¸‹ï¼š

å¼‚æ­¥å‡½æ•°ï¼ˆéé˜»å¡çº¿ç¨‹ï¼‰ï¼š

- `asyncSleep` å•ä½ï¼šæ¯«ç§’
- `asyncSleepSeconds` å•ä½ï¼šç§’
- `asyncSleepMinutes` å•ä½ï¼šåˆ†é’Ÿ
- `asyncSleepHours` å•ä½ï¼šå°æ—¶
- `asyncSleepDays` å•ä½ï¼šå¤©
- `asyncSleepMonths` å•ä½ï¼šæœˆ
- `asyncSleepYears` å•ä½ï¼šå¹´

åŒæ­¥å‡½æ•°ï¼ˆé˜»å¡çº¿ç¨‹ï¼‰ï¼š

- `syncSleep` å•ä½ï¼šæ¯«ç§’
- `syncSleepSeconds` å•ä½ï¼šç§’
- `syncSleepMinutes` å•ä½ï¼šåˆ†é’Ÿ
- `syncSleepHours` å•ä½ï¼šå°æ—¶
- `syncSleepDays` å•ä½ï¼šå¤©
- `syncSleepMonths` å•ä½ï¼šæœˆ
- `syncSleepYears` å•ä½ï¼šå¹´

### å¼‚æ­¥çš„sleepä½¿ç”¨

å¼‚æ­¥çš„`sleep`å¯ä»¥é…åˆ`async/await`æˆ–è€…`Promise`ä½¿ç”¨ã€‚

#### async/await

```javascript
import { asyncSleep } from 'sleep-monster'

const test = async () => {
  console.log('go to sleep...')
  const res = await asyncSleep(2000)
  /* sleepä¹‹åéœ€è¦æ‰§è¡Œçš„ä»£ç  */
  console.log(res) // true
  console.log('2000ms later now')
}
test()

console.log('The synchronized code is still executed') // æ— æ³•é˜»å¡å…¶ä½œç”¨åŸŸä¹‹å¤–çš„ä»£ç æ‰§è¡Œ
```

#### Promise

```javascript
import { asyncSleep } from 'sleep-monster'

const test = () => {
  console.log('go to sleep...')
  asyncSleep(2000).then(res => {
    /* sleepä¹‹åéœ€è¦æ‰§è¡Œçš„ä»£ç  */
    console.log(res) // true
    console.log('2000ms later now')
  })
}
test()

console.log('The synchronized code is still executed') // æ— æ³•é˜»å¡å…¶ä½œç”¨åŸŸä¹‹å¤–çš„ä»£ç æ‰§è¡Œ
```

### åŒæ­¥çš„sleepä½¿ç”¨

åŒæ­¥çš„sleepç›´æ¥è°ƒç”¨å‡½æ•°å³å¯ã€‚

```javascript
import { syncSleep } from 'sleep-monster'

setTimeout(() => {
  console.log('3000ms') // å¼‚æ­¥ä»»åŠ¡ä¹Ÿè¢«é˜»å¡
}, 3000)

syncSleep(5000)

console.log('5000ms later now.Both synchronous and asynchronous code are blocked.') // æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡éƒ½è¢«é˜»å¡äº†
```

